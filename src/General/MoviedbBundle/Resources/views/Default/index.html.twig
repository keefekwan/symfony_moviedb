{# src/General/MoviedbBundle/Resources/views/Default/index.htmle.twig #}
{% extends 'GeneralMoviedbBundle::layout.html.twig' %}

{% block title "General Movie DB" %}
    {% block content %}
        <h1>Movie List</h1>

        {% if movies|length > 0 %}
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th>Title</th>
                    <th>Released</th>
                    <th>Genre</th>
                    <th>Synopsis</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>

                <form class="form-inline" method="post" action="{{path('general_moviedb_search')}}" name="searchform" id="searchform">
                    <div class="form-group">
                        <input type="text"  class="form-control" required="required" value=""/>
                        <input type="hidden" value=""/>
                    </div>
                    <button type="submit" class="btn btn-primary">Search</button>

                </form>

                {#{% for movie in movies %}#}
                    {#<tr>#}
                        {#<td>#}
                            {#{{ movie.title }}#}
                        {#</td>#}
                        {#<td>#}
                            {#{{ movie.released }}#}
                        {#</td>#}

                        {#<td>#}
                            {#{{ movie.genre }}#}
                        {#</td>#}

                        {#<td>#}
                            {#{{ movie.synopsis }}#}
                        {#</td>#}
                        {#<td>#}
                            {#[<a href="{{ path('general_moviedb_edit', {'id': movie.id }) }}">edit</a>]#}
                            {#[<a href="{{ path('general_moviedb_delete', {'id': movie.id }) }}">delete</a>]#}
                        {#</td>#}
                    {#</tr>#}
                {#{% endfor %}#}

                {% for movie in pagination %}
                    <tr {% if loop.index is odd %}class="color"{% endif %}>
                        <td>{{ movie.title }}</td>
                        <td>{{ movie.released }}</td>
                        <td>{{ movie.genre }}</td>
                        <td>{{ movie.synopsis }}</td>

                        <td>
                            [<a href="{{ path('general_moviedb_edit', {'id': movie.id }) }}">edit</a>]
                            [<a href="{{ path('general_moviedb_delete', {'id': movie.id }) }}">delete</a>]
                        </td>
                    </tr>
                {% endfor %}
                <div class="navigation">
                    {{ knp_pagination_render(pagination) }}
                </div>
                </tbody>
            </table>
        {% else %}
            <div class="alert alert-info">No movies found</div>
        {% endif %}

    {% endblock %}
